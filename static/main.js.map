<<<<<<< HEAD
{"version":3,"sources":["./src/app/channel.ts","./src/app/revision.service.ts","./src/app/task-state.service.ts","./src/environments/environment.ts","./src/app/progress-bar/progress-bar.component.ts","./src/app/progress-bar/progress-bar.component.html","./src/app/progress-bar/task_log_msg_dialog.html","./src/app/version.service.ts","./src/app/message.service.ts","./src/app/channel.service.ts","./src/app/app.component.ts","./src/app/app.component.html","./src/app/navbar-row.html","./src/app/app.module.ts","./src/app/dash/dash.component.ts","./src/app/dash/dash.component.html","./src/app/nav/nav.component.ts","./src/app/nav/nav.component.html","./src/app/ver-gen/ver-gen.component.ts","./src/app/ver-gen/ver-gen.component.html","./src/app/message.ts","./src/app/job-history/job-history.component.ts","./src/app/job-history/job-history.component.html","./src/app/job-history/task_log_msg_dialog.html","./src/app/ver-register/ver-register.component.ts","./src/app/ver-register/ver-register.component.html","./src/app/ver-register/register-dialog.html","./src/app/app-routing.module.ts","./src/main.ts","./$_lazy_route_resource lazy namespace object","./src/app/ver-file-explorer/ver-file-explorer.component.ts","./src/app/ver-file-explorer/ver-file-explorer.component.html"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["import { WebSocketSubject } from 'rxjs/webSocket';\n\n\nexport class Channel<T> extends WebSocketSubject<T> {\n\n    constructor(url: string) {\n        super(url);\n    }\n}\n","import { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { HttpClient } from '@angular/common/http';\nimport { Revision } from './revision';\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class RevisionService {\n\n    private revUrl = 'api/revisions';\n\n    constructor(private http: HttpClient) { }\n\n    getRevision(sn: string): Observable<Revision> {\n        const url = `${this.revUrl}/${sn}`;\n        return this.http.get<Revision>(url);\n    }\n\n    getRevisions(): Observable<Revision[]> {\n        return this.http.get<Revision[]>(this.revUrl);\n    }\n\n    getSomeRevs(sn: string | null, num: number): Observable<Revision[]> {\n        const url: string = sn != null ? `${this.revUrl}/${sn}/getSomeRevsFrom` :\n            `${this.revUrl}/getSomeRevs`;\n        const options = { params: { num: `${num}` } };\n        return this.http.get<Revision[]>(url, options);\n    }\n\n}\n","import { Injectable } from '@angular/core';\nimport { Observable, Observer, from } from 'rxjs';\nimport { concatMap, map, retryWhen, delay, filter } from 'rxjs/operators';\nimport { Message } from './message';\nimport { MessageService } from './message.service';\nimport { QueryEvent } from './message';\n\ninterface InfoLogUnit {\n    tid: string;\n    // Length of log message\n    length: number;\n    logBlobs: Blob[];\n    // field to indicate that\n    // is the log message is\n    // completly store into Database.\n    fin: boolean;\n};\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class TaskStateService {\n\n    private database_name: string = \"TaskInfo\";\n    private log_store_name: string = \"TaskLog\";\n\n    private database: IDBDatabase = undefined;\n    /**\n     * An container to place taks log content,\n     * each task has space no more than cache_limit's value.\n     * If content is execeed the limit then the content of\n     * cache will flush into IndexedDB as a Blob.\n     */\n    private log_cache: { [index: string]: string } = {};\n    private log_pos: { [index: string]: number } = {};\n\n    // Unit is KB\n    private cache_limit: number = 1024;\n    // Unstable Task info\n    private unstable_tasks: string[] = [];\n    private msg_src: Observable<Message>;\n\n    constructor(private msg_service: MessageService) {\n        // Register message\n        this.msg_src = this.msg_service\n            .register(msg => msg.type == \"job.msg.task.output\");\n    }\n\n    taskLogMessage(uid: string, tid: string): Observable<string> {\n        // combine uid and tid to generate a\n        // global uniqu id\n        tid = uid + \"_\" + tid;\n\n        // Is log exist in IndexedDB ?\n        return this.is_item_exists(tid).pipe(\n            concatMap(exists => this.load_task(tid, exists))\n        );\n    }\n\n    cleanPersistentData(): Observable<boolean> {\n        let cleared: boolean = undefined;\n        let db = this.access_db();\n        if (db == null) {\n            return;\n        }\n\n        db.subscribe(db => {\n            let transaction = db.transaction([this.log_store_name], \"readwrite\");\n            let obStore = transaction.objectStore(this.log_store_name);\n\n            let req = obStore.clear();\n            req.onsuccess = _ => {\n                cleared = true;\n            };\n            req.onerror = _ => {\n                cleared = false;\n            };\n        });\n\n        return new Observable(ob => {\n            let intvl = setInterval(() => {\n                if (cleared != undefined) {\n                    ob.next(cleared);\n                    ob.complete();\n                    clearInterval(intvl);\n                }\n            }, 1000);\n        })\n    }\n\n    private access_db(): Observable<IDBDatabase> | null {\n\n        if (this.database == undefined || this.database == null) {\n            // Open database\n            const request = indexedDB.open(this.database_name, 1);\n\n            request.onupgradeneeded = (event) => {\n                let database = request.result;\n\n                database.createObjectStore(\n                    this.log_store_name, { keyPath: \"tid\" }\n                )\n            }\n\n            request.onsuccess = (event) => {\n                this.database = request.result;\n            };\n\n            request.onerror = (event) => {\n                this.database = null;\n            };\n        }\n\n        return new Observable(ob => {\n            let intvl = setInterval(() => {\n                if (typeof this.database != 'undefined') {\n                    ob.next(this.database);\n                    clearInterval(intvl);\n                    ob.complete();\n                } else if (this.database == null) {\n                    clearInterval(intvl);\n                    ob.complete();\n                }\n            }, 100);\n        });\n    }\n\n    private is_item_exists(tid: string): Observable<boolean> {\n\n        let exists: boolean = undefined;\n\n        let db: Observable<IDBDatabase> | null = this.access_db()\n\n        if (db == null) {\n            // Assume that the log message is not exists\n            return from([false]);\n        }\n\n        db.subscribe(db => {\n\n            let transaction = db.transaction([this.log_store_name]);\n            let obStore = transaction.objectStore(this.log_store_name);\n\n            // ifa the ObjectStore is exists then there must\n            // exist an object with key is '0', cause the\n            // blob which key is '0', is the first object\n            // store into ObjectStore.\n            let req = obStore.openCursor(tid);\n\n            req.onsuccess = (event) => {\n                let cursor = req.result;\n\n                if (cursor) {\n                    exists = true;\n                } else {\n                    exists = false;\n                }\n            }\n\n            req.onerror = (event) => {\n                exists = false;\n            }\n\n        });\n\n\n        return new Observable(ob => {\n            let counter = setInterval(() => {\n                if (typeof exists != 'undefined') {\n                    clearInterval(counter);\n                    ob.next(exists);\n                    ob.complete();\n                }\n            }, 1000);\n        });\n    }\n\n    private load_task(tid: string, isLocal: boolean): Observable<string> {\n\n        if (isLocal) {\n            return this.load_task_log_from_local(tid).pipe(\n                // If there is only part of log reside\n                // on local then need to load rest of log\n                // from master\n                concatMap(msg => {\n                    if (msg == null) {\n                        return this.load_task_log_from_remote(tid);\n                    } else {\n                        return from([msg]);\n                    }\n                })\n            );\n        } else {\n            return this.load_task_log_from_remote(tid);\n        }\n    }\n\n    // precondition: item exist in IndexedDB\n    private load_task_log_from_local(tid: string): Observable<string> {\n        let load_success: boolean = undefined;\n        let log_messages: InfoLogUnit = undefined;\n\n        let db = this.access_db();\n\n        if (db == null) {\n            // Fail to access database return empty message.\n            return from([\"\"]);\n        }\n\n        db.subscribe(db => {\n            let transaction = db.transaction([this.log_store_name])\n            let obStore = transaction.objectStore(this.log_store_name);\n\n            let req = obStore.get(tid);\n\n            req.onsuccess = () => {\n                log_messages = req.result;\n                load_success = true;\n            }\n\n            req.onerror = () => {\n                load_success = false;\n            }\n        });\n\n        return new Observable(ob => {\n            let intvl = setInterval(() => {\n                if (load_success == true && typeof log_messages != 'undefined') {\n                    if (!(tid in this.log_pos)) {\n                        this.log_pos[tid] = log_messages.length;\n                    }\n                    this.load_task_log_from_local_internal(\n                        ob, log_messages.logBlobs, log_messages.fin);\n                    clearInterval(intvl);\n                } else if (load_success == false) {\n                    ob.next(\"\");\n                    ob.complete();\n                    clearInterval(intvl);\n                }\n            })\n        })\n    }\n\n    private load_task_log_from_local_internal(\n        ob: Observer<string>, messages: Blob[], isFin: boolean): void {\n\n        let prev: Promise<string> = messages[0].text();\n        let proc_messages = messages.slice(1, messages.length);\n\n        for (let msg of proc_messages) {\n            prev = prev.then(text => {\n                ob.next(text);\n                return msg.text();\n            })\n        }\n\n        prev.then(text => {\n            ob.next(text);\n            if (isFin) {\n                ob.next(\"\");\n            } else {\n                ob.next(null);\n            }\n\n            ob.complete();\n        });\n    }\n\n    private load_task_log_from_remote(id: string): Observable<string> {\n        let pos: number;\n        let uid: string = id.split(\"_\")[0];\n\n        if (!(id in this.log_pos)) {\n            // No position info about the task\n            // so there is no log file on local\n            // and set pos to 0, with 0 system\n            // able to get all data of log.\n            pos = this.log_pos[id] = 0;\n        } else {\n            pos = this.log_pos[id];\n        }\n\n        let tid = id.slice(id.indexOf(\"_\") + 1, id.length);\n\n        // Send first request\n        let event = new QueryEvent([\n            \"task\", uid, tid, (pos as any) as string\n        ]);\n        this.msg_service.sendMsg(event);\n\n        return this.retrieve_log_msg(id).pipe(\n            concatMap(msg => {\n                // Update log pos\n                this.log_pos[id] += msg.content.message.msg.length;\n\n                // Only part of log content on local\n                // try to request more content\n                if (msg.content.message.last == 0) {\n                    let event = new QueryEvent([\n                        \"task\", uid, tid, (this.log_pos[id] as any) as string\n                    ]);\n                    this.msg_service.sendMsg(event);\n                }\n                return from([msg]);\n            }),\n            // Cache the message\n            concatMap(msg => {\n                let msg_text = msg.content.message.msg;\n                this.cache(id, msg_text,\n                    msg.content.message.last == 1);\n                return from([msg_text]);\n            }),\n        );\n    }\n\n    private retrieve_log_msg(id: string): Observable<Message> {\n        let i = 0;\n\n        let obsv = this.msg_src.pipe(\n            filter(msg => {\n                console.log(msg);\n                let target_id = msg.content.message.uid + \"_\" +\n                    msg.content.message.task;\n                return id == target_id;\n            })\n        );\n\n        return obsv;\n    }\n\n    /**\n     * Reture:\n     *   True: Need to store into IndexedDB\n     *   False: No Need to store into IndexedDB\n     */\n    private cache(tid: string, data: string, isLast: boolean = false): void {\n\n        let exists = tid in this.log_cache;\n        if (!exists) {\n            this.log_cache[tid] = \"\";\n        }\n\n        // Cache update\n        this.log_cache[tid] = this.log_cache[tid] + data;\n\n        // Persistent Store\n        if (this.log_cache[tid].length > this.cache_limit || data == \"\") {\n            if (this.log_cache[tid].length == 0) {\n                return;\n            }\n\n            // Cache length exceed cache limit need to store\n            // store into IndexedDB.\n            this.persistent_store(tid, isLast);\n\n            // Flush all cache\n            this.log_cache[tid] = \"\";\n        }\n    }\n\n    /**\n     * Store the cache that correspond to the tid\n     * into IndexedDB.\n     */\n    private persistent_store(tid: string, isLast: boolean): void {\n\n        if (tid in this.unstable_tasks) {\n            // The info of the task is in unstable\n            // state, if store data into it may break\n            // the correctness of the data.\n            return;\n        }\n\n        // WRAP cache into Blob\n        const cache = this.log_cache[tid];\n        const blob = new Blob([cache]);\n\n        // Store the Blob into IndexedDB\n        let db: Observable<IDBDatabase> | null = this.access_db();\n\n        if (db == null) {\n            // Fail to access IndexedDB skip persistent_store.\n            return;\n        }\n\n        // Store blob with count as key.\n        let logInfo: InfoLogUnit = {\n            'tid': tid,\n            'logBlobs': [blob],\n            'length': cache.length,\n            'fin': isLast\n        }\n\n        db.subscribe(db => {\n            let transaction = db.transaction([this.log_store_name], \"readwrite\");\n            let obStore = transaction.objectStore(this.log_store_name);\n\n            let request_current = obStore.openCursor(tid);\n            request_current.onsuccess = (event) => {\n                let cursor = request_current.result;\n\n                if (cursor) {\n                    // Store the last cache into database\n                    let current_data: InfoLogUnit = cursor.value;\n                    current_data.logBlobs.push(blob);\n                    current_data.length += cache.length;\n                    current_data.fin = isLast;\n\n                    let request_update = obStore.put(current_data);\n                    request_update.onerror = (event) => {\n                        this.unstable_tasks.push(tid);\n                    }\n                } else {\n                    // No info of the task is stored in database\n                    // create a new one.\n                    let request = obStore.add(logInfo);\n                    request.onerror = (event) => {\n                        // Mark the task which tid equal to parameter\n                        // as a unstable state to prevent break of\n                        // data within database.\n                        this.unstable_tasks.push(tid);\n                    }\n\n                }\n            }\n        });\n    }\n\n    mark_fin(uid: string, tid: string): void {\n        this.set_fin_state(uid, tid, true);\n    }\n\n    set_fin_state(uid: string, tid: string, fin: boolean): void {\n\n        tid = uid + \"_\" + tid;\n\n        if (tid in this.unstable_tasks) {\n            return;\n        }\n\n        let db: Observable<IDBDatabase> | null = this.access_db();\n\n        if (db == null) {\n            return;\n        }\n\n        db.subscribe(db => {\n            let transaction = db.transaction([this.log_store_name], \"readwrite\");\n            let obStore = transaction.objectStore(this.log_store_name);\n\n            let request_current = obStore.get(tid);\n            request_current.onsuccess = (event) => {\n                let data: InfoLogUnit = request_current.result;\n\n                data.fin = fin;\n\n                let put_request = obStore.put(data);\n                put_request.onerror = (event) => {\n                    this.unstable_tasks.push(tid);\n                };\n\n            };\n        })\n    }\n}\n","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  production: false\n};\n\n/*\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\n","import { Component, OnInit } from '@angular/core';\nimport { MessageService } from '../message.service';\nimport { Message, QueryEvent } from '../message';\nimport { Job, Task } from '../job';\nimport { MatTableDataSource } from '@angular/material/table';\nimport { TaskStateService } from '../task-state.service';\nimport { MatDialog, MatDialogRef, MAT_DIALOG_DATA } from '@angular/material/dialog';\nimport { Inject } from '@angular/core';\n\n\ninterface Job_flat {\n    unique_id: string;\n    jobid: string;\n    tasks: Task[];\n}\n\nconst JobInfors: Job[] = [\n    {\n        \"unique_id\": \"uid\",\n        \"jobid\": \"Job\",\n        \"tasks\": {\n            \"T\": {\n                \"taskid\": \"T1\", \"state\": \"P\"\n            }\n        }\n    }\n];\n\n\n@Component({\n    selector: 'app-progress-bar',\n    templateUrl: './progress-bar.component.html',\n    styleUrls: ['./progress-bar.component.css']\n})\nexport class ProgressBarComponent implements OnInit {\n\n    private notify_allow: boolean = false;\n    jobs: { [index: string]: Job } = {};\n    jobSource = JobInfors;\n    displayedColumns: string[] = ['uid', 'Name', 'Tasks'];\n    dataSource = new MatTableDataSource<Job_flat>();\n    current_open_message: string[] = [];\n\n    constructor(\n        private msg_service: MessageService,\n        private tss: TaskStateService,\n        private dialog: MatDialog) {\n\n        this.msg_service.register(msg => msg.type == \"job.msg\").subscribe(msg => {\n            this.job_state_message_handle(msg);\n        });\n    }\n\n    ngOnInit(): void {\n        /**\n         * Query current state from Master.\n         */\n        this.msg_service.sendMsg(new QueryEvent([\"processing\"]));\n\n        let subscribtion = this.msg_service.register(msg => msg.type == \"job.msg.batch\")\n            .subscribe(init_msg => {\n\n                // Subtype of message must a batch\n                if (init_msg.content.subtype != \"batch\") {\n                    console.log(\"ProgressBar init: receive error message\");\n                } else {\n                    // Correct message type\n                    for (let msg of init_msg.content.message) {\n                        this.job_state_message_handle_internal(msg);\n                    }\n\n                    subscribtion.unsubscribe();\n                    this.notify_allow = true;\n                    this.dataSource.data = this.get_jobs()\n                }\n            });\n    }\n\n    job_state_message_handle(msg: Message): void {\n        // Component is not initiliazed,\n        // unable to process notify at this stage.\n        if (this.notify_allow === false) {\n            return;\n        }\n\n        console.log(msg);\n        this.job_state_message_handle_internal(msg);\n        this.dataSource.data = this.get_jobs()\n    }\n\n    job_state_message_handle_internal(msg: Message): void {\n        let content = msg.content;\n        let subtype: string;\n\n        // Corrupted by invalid format of message is\n        // not allowed.\n        try {\n            subtype = content['subtype'];\n\n            switch (subtype) {\n                case \"change\":\n                    this.job_state_message_change_handle(msg);\n                    break;\n                case \"fin\":\n                    this.job_state_message_fin_handle(msg);\n                    break;\n                case \"fail\":\n                    this.job_state_message_fail_handle(msg)\n                    break;\n                case \"info\":\n                    this.job_state_message_info_handle(msg);\n                    break;\n            }\n        } catch (error) {\n            console.log(error);\n        }\n\n    }\n\n    get_jobs(): Job_flat[] {\n        let job_flats: Job_flat[] = [];\n\n        for (let job of Object.values(this.jobs)) {\n            let job_f: Job_flat = {\n                \"unique_id\": job.unique_id,\n                \"jobid\": job.jobid,\n                \"tasks\": Object.values(job.tasks)\n            };\n            job_flats.push(job_f);\n        }\n\n        return job_flats;\n    }\n\n    is_task_success(task: Task): boolean {\n        return task.state == 'FIN';\n    }\n\n    is_task_fail(task: Task): boolean {\n        return task.state == 'FAIL';\n    }\n\n    job_state_message_info_handle(msg: Message): void {\n        let message: { [index: string]: any } = msg['content']['message'];\n        if (typeof message == 'undefined')\n            return\n\n        // Treat as a trivial job just drop it.\n        if (message[\"tasks\"].length == 0)\n            return;\n\n        // Build Task dictionary.\n        let tasks: { [index: string]: Task } = {};\n        for (let task of message[\"tasks\"]) {\n            tasks[task[0]] = { \"taskid\": task[0], \"state\": task[1] };\n        }\n\n        // Build Job.\n        let job: Job = {\n            \"unique_id\": message['unique_id'],\n            \"jobid\": message['jobid'],\n            \"tasks\": tasks\n        };\n\n        this.jobs[message['unique_id']] = job;\n    }\n\n    job_state_message_change_handle(msg: Message): void {\n        let content = msg['content']['message'];\n\n        let job = this.jobs[content['unique_id']];\n        if (typeof job == 'undefined')\n            return;\n\n        let task = job.tasks[content['taskid']];\n        if (typeof task == 'undefined')\n            return;\n\n        task.state = content['state'];\n    }\n\n    job_state_message_fin_handle(msg: Message): void {\n        let content = msg['content']['message'];\n        let unique_id: string = content['jobs'][0];\n\n        delete this.jobs[unique_id];\n    }\n\n    job_state_message_fail_handle(msg: Message): void {\n        let content = msg['content']['message'];\n        let unique_id: string = content['jobs'][0];\n\n        delete this.jobs[unique_id];\n\n    }\n\n    get_task_message_log(uid: string, taskId: string): void {\n        // Retrieve task log message.\n        let sub = this.tss.taskLogMessage(uid, taskId).subscribe(message => {\n            this.current_open_message.push(message);\n        });\n\n        // Open a dialog to display messages.\n        this.dialog.open(TaskLogDialogProgress, {\n            width: '30cm',\n            data: {\n                dataKey: this.current_open_message\n            }\n        }).afterClosed().subscribe(_ => {\n            sub.unsubscribe();\n            this.current_open_message = [];\n        });\n    }\n}\n\n@Component({\n    selector: 'task-log-dialog',\n    templateUrl: 'task_log_msg_dialog.html'\n})\nexport class TaskLogDialogProgress {\n\n    public version: string;\n\n    constructor(\n        @Inject(MAT_DIALOG_DATA) public data: any,\n        public dialogRef: MatDialogRef<TaskLogDialogProgress>) { }\n\n    onCancel(): void {\n        this.dialogRef.close();\n    }\n}\n","<div class=\"running-table-container\">\n  <table mat-table [dataSource]=\"dataSource\" *ngIf=\"dataSource.data.length > 0\">\n    <!-- Unique ID -->\n    <ng-container matColumnDef=\"uid\">\n      <th mat-header-cell *matHeaderCellDef> UID </th>\n      <td mat-cell *matCellDef=\"let element\">\n        <p class=\"uid_field\">{{element.unique_id}}</p>\n      </td>\n    </ng-container>\n\n    <!-- Job Name -->\n    <ng-container matColumnDef=\"Name\">\n      <th mat-header-cell *matHeaderCellDef> Name </th>\n      <td mat-cell *matCellDef=\"let element\"> {{element.jobid}} </td>\n    </ng-container>\n\n    <!-- Tasks -->\n    <ng-container matColumnDef=\"Tasks\">\n      <th mat-header-cell *matHeaderCellDef> Tasks </th>\n      <td mat-cell *matCellDef=\"let element\">\n        <div class=\"task-container\">\n          <p class=\"Task\" *ngFor=\"let t of element.tasks\"\n             (click)=\"get_task_message_log(element.unique_id, t.taskid)\"\n             [ngStyle]=\"{ 'color': is_task_success(t) ? 'green' : (is_task_fail(t) ? 'red' : 'orange') }\">\n            {{t.taskid}}\n          </p>\n        </div>\n      </td>\n    </ng-container>\n\n    <tr mat-header-row *matHeaderRowDef=\"displayedColumns\"></tr>\n    <tr mat-row *matRowDef=\"let row; columns: displayedColumns;\"></tr>\n  </table>\n</div>\n","<h1 mat-dialog-title>Log Message</h1>\n<div mat-dialog-content id=\"log_dialog\">\n  <p *ngFor=\"let msg of data.dataKey\">{{msg}}</p>\n</div>\n<div mat-dialog-actions>\n  <button mat-button>Downloads</button>\n</div>\n","import { Injectable } from '@angular/core';\nimport { Observable, of } from 'rxjs';\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\nimport { Version, VersionBuild } from './version';\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class VersionService {\n\n    private verUrl = 'api/versions';\n\n    httpOptions = {\n        headers: new HttpHeaders({ 'Content-Type': 'application/json' }),\n    };\n\n    constructor(\n        private http: HttpClient\n    ) { }\n\n    getVersion(vsn: string): Observable<Version> {\n        const url = `${this.verUrl}/${vsn}/`;\n        return this.http.get<Version>(url);\n    }\n\n    getVersions(): Observable<Version[]> {\n        return this.http.get<Version[]>(`${this.verUrl}/`);\n    }\n\n    updateVersion(ver: Version): Observable<any> {\n        return this.http.put(`${this.verUrl}/`, ver, this.httpOptions);\n    }\n\n    removeVersion(vsn: string): Observable<Version> {\n        const url = `${this.verUrl}/${vsn}/`;\n        return this.http.delete<Version>(url, this.httpOptions);\n    }\n\n    addVersion(ver: Version): Observable<Version> {\n        return this.http.post<Version>(`${this.verUrl}/`, ver, this.httpOptions);\n    }\n\n    generate(build: VersionBuild): Observable<any> {\n        const genUrl = `${this.verUrl}/${build.ver.vsn}/generate/`;\n        return this.http.put(genUrl, build.info, this.httpOptions);\n    }\n\n}\n","import { Injectable } from '@angular/core';\nimport { Observable, from } from 'rxjs';\nimport { filter } from 'rxjs/operators';\nimport { Message } from './message';\nimport { ChannelService } from \"./channel.service\";\nimport { Channel } from \"./channel\";\n\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class MessageService {\n\n    private sock_url = \"/commu/\";\n\n    private channel: Channel<Message>;\n\n    constructor(private channelService: ChannelService) {\n        this.channel = this.channelService.create(\n            \"ws://\" + location.host + this.sock_url\n        ) as Channel<Message>;\n    }\n\n    register(checker: (msg: Message) => boolean): Observable<Message> | null {\n        return this.channel.pipe(\n            filter(msg => checker(msg))\n        );\n    }\n\n    sendMsg(msg: Message): void {\n        this.channel.next(msg);\n    }\n}\n","import { Injectable } from '@angular/core';\nimport { Channel } from './channel';\n\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class ChannelService {\n\n    private channels: { [index: string]: Channel<Object> } = {};\n    constructor() { }\n\n    create(url: string): Channel<Object> {\n        let channel: Channel<Object> = new Channel<Object>(url);\n\n        if (this.channels[url] == undefined) {\n            // New channel\n            this.channels[url] = channel;\n        } else {\n            // Exist channel\n            return this.channels[url]\n        }\n\n        return channel;\n    }\n\n    close(url: string): void {\n        if (this.channels[url] != undefined) {\n            this.channels[url].complete();\n        }\n    }\n}\n","import { Component } from '@angular/core';\n\n@Component({\n    selector: 'app-root',\n    templateUrl: './app.component.html',\n    styleUrls: ['./app.component.css']\n})\nexport class AppComponent {\n    title = 'VerManager-Front';\n}\n\n@Component({\n    selector: 'navbar-row',\n    templateUrl: './navbar-row.html',\n    styleUrls: ['./navbar-row.css']\n})\nexport class NavrowComponent { }\n","<app-nav></app-nav>\n","<mat-toolbar class=\"mat-elevation-z5\" color=\"primary\">\n  Version Manager\n</mat-toolbar>\n","import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\nimport { VerGenComponent } from './ver-gen/ver-gen.component';\nimport { VerRegisterComponent, RegisterDialog } from './ver-register/ver-register.component';\nimport { ProgressBarComponent, TaskLogDialogProgress } from './progress-bar/progress-bar.component';\nimport { AppComponent, NavrowComponent } from './app.component';\nimport { MatListModule } from '@angular/material/list';\nimport { MatExpansionModule } from '@angular/material/expansion';\nimport { MatDialogModule } from '@angular/material/dialog';\nimport { MatButtonModule } from '@angular/material/button';\nimport { MatInputModule } from '@angular/material/input';\nimport { MatSelectModule } from '@angular/material/select';\nimport { MatGridListModule } from '@angular/material/grid-list';\nimport { MatToolbarModule } from '@angular/material/toolbar';\nimport { FormsModule } from '@angular/forms';\nimport { HttpClientModule } from '@angular/common/http';\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\nimport { MatSidenavModule } from '@angular/material/sidenav';\nimport { MatDividerModule } from '@angular/material/divider';\nimport { MatTableModule } from '@angular/material/table';\nimport { JobHistoryComponent, TaskLogDialogHistory } from './job-history/job-history.component';\nimport { VerFileExplorerComponent } from './ver-file-explorer/ver-file-explorer.component';\nimport { DashComponent } from './dash/dash.component';\nimport { MatCardModule } from '@angular/material/card';\nimport { MatMenuModule } from '@angular/material/menu';\nimport { MatIconModule } from '@angular/material/icon';\nimport { LayoutModule } from '@angular/cdk/layout';\nimport { NavComponent } from './nav/nav.component';\nimport { AppRoutingModule } from './app-routing.module';\nimport { APP_BASE_HREF } from '@angular/common';\n\n@NgModule({\n    declarations: [\n        AppComponent,\n        VerGenComponent,\n        VerRegisterComponent,\n        RegisterDialog,\n        ProgressBarComponent,\n        NavrowComponent,\n        JobHistoryComponent,\n        VerFileExplorerComponent,\n        DashComponent,\n        NavComponent,\n        TaskLogDialogProgress,\n        TaskLogDialogHistory,\n    ],\n    imports: [\n        BrowserModule,\n        BrowserAnimationsModule,\n        HttpClientModule,\n        FormsModule,\n        MatListModule,\n        MatExpansionModule,\n        MatDialogModule,\n        MatButtonModule,\n        MatInputModule,\n        MatSelectModule,\n        MatGridListModule,\n        MatToolbarModule,\n        MatSidenavModule,\n        MatDividerModule,\n        MatTableModule,\n        MatCardModule,\n        MatMenuModule,\n        MatIconModule,\n        LayoutModule,\n        AppRoutingModule\n    ],\n    providers: [{ provide: APP_BASE_HREF, useValue: '/manager' }],\n    bootstrap: [AppComponent]\n})\nexport class AppModule { }\n","import { Component } from '@angular/core';\nimport { map } from 'rxjs/operators';\nimport { Breakpoints, BreakpointObserver } from '@angular/cdk/layout';\n\n\n@Component({\n    selector: 'app-dash',\n    templateUrl: './dash.component.html',\n    styleUrls: ['./dash.component.css']\n})\nexport class DashComponent {\n    /** Based on the screen size, switch from standard to one column per row */\n    cards = this.breakpointObserver.observe(Breakpoints.Handset).pipe(\n        map(({ matches }) => {\n            if (matches) {\n                return [\n                    { title: 'Card 1', cols: 1, rows: 1 },\n                ];\n            }\n\n            return [\n                { title: 'History', cols: 2, rows: 1 },\n            ];\n        })\n    );\n\n    constructor(private breakpointObserver: BreakpointObserver) { }\n}\n","<div class=\"grid-container\">\n  <mat-grid-list cols=\"4\" rowHeight=\"350px\">\n\n    <!-- History Panel -->\n    <mat-grid-tile [colspan]=\"2\" [rowspan]=\"1\">\n      <mat-card class=\"dashboard-card\">\n        <mat-card-title>History</mat-card-title>\n        <mat-card-content>\n          <app-job-history></app-job-history>\n        </mat-card-content>\n      </mat-card>\n    </mat-grid-tile>\n\n    <!-- In-Running Task -->\n    <mat-grid-tile [colspan]=\"2\" [rowspan]=\"1\">\n      <mat-card class=\"dashboard-card\">\n        <mat-card-title>Running</mat-card-title>\n        <mat-card-content>\n          <app-progress-bar></app-progress-bar>\n        </mat-card-content>\n      </mat-card>\n    </mat-grid-tile>\n\n    <!-- Register -->\n    <mat-grid-tile [colspan]=\"2\" [rowspan]=\"2\">\n      <mat-card class=\"dashboard-card\">\n        <mat-card-title>Register</mat-card-title>\n        <mat-card-content>\n          <app-ver-register></app-ver-register>\n        </mat-card-content>\n      </mat-card>\n    </mat-grid-tile>\n\n    <!-- File Explore -->\n    <mat-grid-tile [colspan]=\"1\" [rowspan]=\"1\">\n      <mat-card class=\"dashboard-card\">\n        <mat-card-title>File Explore</mat-card-title>\n        <mat-card-content>\n          <app-ver-file-explorer></app-ver-file-explorer>\n        </mat-card-content>\n      </mat-card>\n    </mat-grid-tile>\n\n    <!-- Generate Panel -->\n    <mat-grid-tile [colspan]=\"1\" [rowspan]=\"1\">\n      <mat-card class=\"dashboard-card\">\n        <mat-card-title>Generate</mat-card-title>\n        <mat-card-content>\n          <app-ver-gen></app-ver-gen>\n        </mat-card-content>\n      </mat-card>\n    </mat-grid-tile>\n\n\n  </mat-grid-list>\n</div>\n","import { Component } from '@angular/core';\nimport { BreakpointObserver, Breakpoints } from '@angular/cdk/layout';\nimport { Observable } from 'rxjs';\nimport { map, shareReplay } from 'rxjs/operators';\n\n@Component({\n    selector: 'app-nav',\n    templateUrl: './nav.component.html',\n    styleUrls: ['./nav.component.css']\n})\nexport class NavComponent {\n\n    menuItems = ['dash']\n\n    isHandset$: Observable<boolean> = this.breakpointObserver.observe(Breakpoints.Handset)\n        .pipe(\n            map(result => result.matches),\n            shareReplay()\n        );\n\n    constructor(private breakpointObserver: BreakpointObserver) { }\n\n}\n","<mat-sidenav-container class=\"sidenav-container\">\n  <mat-sidenav #drawer class=\"sidenav\" fixedInViewport\n      [attr.role]=\"(isHandset$ | async) ? 'dialog' : 'navigation'\"\n      [mode]=\"(isHandset$ | async) ? 'over' : 'side'\"\n      [opened]=\"(isHandset$ | async) === false\">\n    <mat-toolbar>Menu</mat-toolbar>\n    <mat-nav-list>\n      <a *ngFor=\"let item of menuItems\" class=\"nav_button\" mat-list-item [routerLink]=\"'/'+item\">\n        {{item | titlecase}}\n      </a>\n    </mat-nav-list>\n  </mat-sidenav>\n  <mat-sidenav-content>\n    <mat-toolbar color=\"primary\">\n      <button\n        type=\"button\"\n        aria-label=\"Toggle sidenav\"\n        mat-icon-button\n        (click)=\"drawer.toggle()\"\n        *ngIf=\"isHandset$ | async\">\n        <mat-icon aria-label=\"Side nav toggle icon\">menu</mat-icon>\n      </button>\n      <span>VerManager</span>\n    </mat-toolbar>\n    <!-- Add Content Here -->\n    <router-outlet></router-outlet>\n  </mat-sidenav-content>\n</mat-sidenav-container>\n","import { Component, OnInit } from '@angular/core';\nimport { VersionService } from '../version.service';\nimport { RevisionService } from '../revision.service';\nimport { Version, VersionBuild, BuildInfo } from '../version';\nimport { Revision } from '../revision';\n\n\n@Component({\n    selector: 'app-ver-gen',\n    templateUrl: './ver-gen.component.html',\n    styleUrls: ['./ver-gen.component.css']\n})\nexport class VerGenComponent implements OnInit {\n\n    versions: Version[] = [];\n    revisions: Revision[] = [];\n\n    constructor(\n        private verService: VersionService,\n        private revService: RevisionService\n    ) { }\n\n    ngOnInit(): void {\n        this.refresh()\n    }\n\n    generate(version: Version | undefined, ...infos: string[]): void {\n        let buildInfo: BuildInfo = {};\n\n        if (typeof version !== 'undefined') {\n\n            if (infos.length === 2) {\n                buildInfo = { logFrom: infos[0], logTo: infos[1] };\n            }\n\n            const build: VersionBuild = { ver: version, info: buildInfo };\n            this.verService.generate(build).subscribe();\n        }\n    }\n\n    refresh(): void {\n        this.verService.getVersions()\n            .subscribe(versions => this.versions = versions);\n        this.revService.getRevisions()\n            .subscribe(revisions => this.revisions = revisions);\n    }\n}\n","<div id=\"VerGenPanel\">\n  <mat-list>\n    <mat-list-item>\n      <mat-form-field>\n        <mat-label>Version</mat-label>\n        <mat-select #SelectedVersion>\n          <mat-option *ngFor=\"let version of versions\" [value]=\"version\">\n            {{version.vsn}}\n          </mat-option>\n        </mat-select>\n      </mat-form-field>\n    </mat-list-item>\n\n    <mat-list-item>\n      <mat-form-field>\n        <mat-label>Log from</mat-label>\n        <mat-select #logFrom>\n          <mat-option *ngFor=\"let revision of revisions\" [value]=\"revision.sn\">\n            {{revision.sn}}\n          </mat-option>\n        </mat-select>\n      </mat-form-field>\n    </mat-list-item>\n\n    <mat-list-item>\n      <mat-form-field>\n        <mat-label>Log from</mat-label>\n        <mat-select #logTo>\n          <mat-option *ngFor=\"let revision of revisions\" [value]=\"revision.sn\">\n            {{revision.sn}}\n          </mat-option>\n        </mat-select>\n      </mat-form-field>\n    </mat-list-item>\n\n    <mat-list-item>\n      <button id=\"genButton\" mat-flat-button color=\"primary\"\n              (click)=\"generate(SelectedVersion.value, logFrom.value, logTo.value)\">\n        Generate\n      </button>\n    </mat-list-item>\n  </mat-list>\n</div>\n","export interface Message {\n    type: string;\n    content: { [index: string]: any };\n}\n\nexport class QueryEvent implements Message {\n    type: string;\n    content: { [index: string]: any };\n\n    constructor(args: string[]) {\n        this.type = \"query\";\n        this.content = {\n            \"subtype\": \"JobMaster\",\n            \"message\": {\n                \"args\": args\n            }\n        };\n    }\n}\n\nexport function message_check(msg: any): boolean {\n    if (typeof msg == 'object') {\n        if (typeof msg['type'] != 'undefined' ||\n            typeof msg['content'] != 'undefined') {\n\n            return true;\n        }\n\n        return false;\n    }\n}\n","import { Component, OnInit } from '@angular/core';\nimport { MessageService } from '../message.service';\nimport { Message, QueryEvent } from '../message';\nimport { Job, Task } from '../job';\nimport { MatTableDataSource } from '@angular/material/table';\nimport { TaskStateService } from '../task-state.service';\nimport { MatDialog, MatDialogRef, MAT_DIALOG_DATA } from '@angular/material/dialog';\nimport { Inject } from '@angular/core';\n\n\n@Component({\n    selector: 'app-job-history',\n    templateUrl: './job-history.component.html',\n    styleUrls: ['./job-history.component.css']\n})\nexport class JobHistoryComponent implements OnInit {\n\n    history: Job[] = [];\n    displayedColumns: string[] = ['uid', 'Name', 'Tasks']\n    dataSource = new MatTableDataSource<Job>([]);\n    current_open_message: string[] = [];\n\n    constructor(\n        private msg_service: MessageService,\n        private tss: TaskStateService,\n        private dialog: MatDialog) {\n\n        this.msg_service.register(msg => msg.type == \"job.msg.history\")\n            .subscribe(history_msg => {\n                this.history_msg_handle(history_msg);\n            });\n    }\n\n    ngOnInit(): void {\n        /**\n         * Observer to handle reply of this query is already\n         * subscribe on constructor.\n         */\n        this.msg_service.sendMsg(new QueryEvent([\"history\"]));\n    }\n\n    history_msg_handle(msg: Message): void {\n        if (msg.content['subtype'] != 'history') {\n            return;\n        }\n\n        for (let obj of Object.values(msg.content['message'])) {\n            let job: Job = {\n                \"unique_id\": obj['unique_id'],\n                \"jobid\": obj['jobid'],\n                \"tasks\": obj['tasks']\n            };\n            this.history.push(job);\n        }\n        this.dataSource.data = this.history;\n    }\n\n    job_tasks(job: Job): Task[] {\n        return Object.values(job.tasks);\n    }\n\n    is_task_success(task: Task): boolean {\n        return task.state == 'FIN';\n    }\n\n    is_task_fail(task: Task): boolean {\n        return task.state == \"FAIL\";\n    }\n\n    get_task_log_messages(uid: string, taskId: string): void {\n        let sub = this.tss.taskLogMessage(uid, taskId).subscribe(message => {\n            console.log(\"Message arrived\")\n            this.current_open_message.push(message);\n        });\n\n        this.dialog.open(TaskLogDialogHistory, {\n            width: '30cm',\n            data: {\n                dataKey: this.current_open_message\n            }\n        }).afterClosed().subscribe(_ => {\n            sub.unsubscribe();\n            this.current_open_message = [];\n        });\n    }\n}\n\n\n@Component({\n    selector: 'task-log-dialog',\n    templateUrl: 'task_log_msg_dialog.html'\n})\nexport class TaskLogDialogHistory {\n\n    public version: string;\n\n    constructor(\n        @Inject(MAT_DIALOG_DATA) public data: any,\n        public dialogRef: MatDialogRef<TaskLogDialogHistory>) { }\n\n    onCancel(): void {\n        this.dialogRef.close();\n    }\n}\n","<div class=\"history-table-container\">\n  <table mat-table [dataSource]=\"dataSource\" *ngIf=\"dataSource.data.length > 0\">\n    <!-- Unique ID -->\n    <ng-container matColumnDef=\"uid\">\n      <th mat-header-cell *matHeaderCellDef> UID </th>\n      <td mat-cell *matCellDef=\"let element\">\n        <p class=\"uid_field\">{{element.unique_id}}</p>\n      </td>\n    </ng-container>\n\n    <!-- Job Name -->\n    <ng-container matColumnDef=\"Name\">\n      <th mat-header-cell *matHeaderCellDef> Name </th>\n      <td mat-cell *matCellDef=\"let element\"> {{element.jobid}} </td>\n    </ng-container>\n\n    <!-- Tasks -->\n    <ng-container matColumnDef=\"Tasks\">\n      <th mat-header-cell *matHeaderCellDef> Tasks </th>\n      <td mat-cell *matCellDef=\"let element\">\n        <div class=\"task-container\">\n          <p class=\"Task\" *ngFor=\"let t of job_tasks(element)\"\n             (click)=\"get_task_log_messages(element.unique_id, t.taskid)\"\n             [ngStyle]=\"{ 'color': is_task_success(t) ? 'green' : (is_task_fail(t) ? 'red' : 'yellow') }\">\n            {{t.taskid}}\n          </p>\n        </div>\n      </td>\n    </ng-container>\n\n    <tr mat-header-row *matHeaderRowDef=\"displayedColumns\"></tr>\n    <tr mat-row *matRowDef=\"let row; columns: displayedColumns;\"></tr>\n  </table>\n</div>\n","<h1 mat-dialog-title>Log Message</h1>\n<div mat-dialog-content id=\"log_dialog\">\n  <p *ngFor=\"let msg of data.dataKey\">{{msg}}</p>\n</div>\n<div mat-dialog-actions>\n  <button mat-button>Downloads</button>\n</div>\n","import { Component, OnInit } from '@angular/core';\nimport { VersionService } from '../version.service';\nimport { RevisionService } from '../revision.service';\nimport { Version } from '../version';\nimport { Revision } from '../revision';\nimport { MatDialog, MatDialogRef } from '@angular/material/dialog';\n\n@Component({\n    selector: 'app-ver-register',\n    templateUrl: './ver-register.component.html',\n    styleUrls: ['./ver-register.component.css']\n})\nexport class VerRegisterComponent implements OnInit {\n\n    versions: Version[] = [];\n    revisions: Revision[] = [];\n\n    lastScrollTop: number = 0;\n    revList: HTMLElement | null = null;\n\n    displayedColumns: string[] = ['Comment', 'Register'];\n\n    constructor(private verService: VersionService,\n        private revService: RevisionService,\n        private dialog: MatDialog) { }\n\n    ngOnInit(): void {\n        this.getVersions();\n        this.getSomeRevs(null, 20);\n    }\n\n    register(rev: string): void {\n        const ref = this.dialog.open(RegisterDialog, {\n            width: '250px'\n        });\n\n        ref.afterClosed().subscribe(result => {\n            if (result !== undefined) {\n                const ver: Version = { vsn: result, sn: rev };\n                this.verService.addVersion(ver)\n                    .subscribe();\n            }\n        });\n    }\n\n    remove(ver: Version): void {\n        this.verService.removeVersion(ver.vsn)\n            .subscribe();\n    }\n\n    getVersions(): void {\n        this.verService.getVersions()\n            .subscribe(versions => this.versions = versions);\n    }\n\n    getRevisions(): void {\n        this.revService.getRevisions()\n            .subscribe(revisions => this.revisions = revisions);\n    }\n\n    getSomeRevs(sn: string | null, num: number): void {\n        this.revService.getSomeRevs(sn, num)\n            .subscribe(revisions => this.revisions = this.revisions.concat(revisions));\n    }\n\n    logging(msg: string): void {\n        console.log(msg);\n    }\n\n    onScroll(event: any): void {\n        // visible height + pixel scrolled >= total height\n        if (event.target.offsetHeight + event.target.scrollTop >= event.target.scrollHeight) {\n            let lastSn: Revision = this.revisions[this.revisions.length - 1];\n            this.revService.getSomeRevs(lastSn.sn, 10)\n                .subscribe(revisions => {\n                    const height: number = event.target.scrollHeight;\n                    this.revisions = this.revisions.concat(revisions);\n                });\n        }\n    }\n}\n\n@Component({\n    selector: 'register-dialog',\n    templateUrl: 'register-dialog.html'\n})\nexport class RegisterDialog {\n\n    public version: string;\n\n    constructor(\n        public dialogRef: MatDialogRef<RegisterDialog>) { }\n\n    onCancel(): void {\n        this.dialogRef.close();\n    }\n}\n","<div class=\"table-container\" (scroll)=\"onScroll($event)\">\n  <table mat-table [dataSource]=\"revisions\" *ngIf=\"revisions.length > 0\">\n    <!-- Comment Column -->\n    <ng-container matColumnDef=\"Comment\">\n      <th mat-header-cell *matHeaderCellDef> Comment </th>\n      <td mat-cell *matCellDef=\"let element\">\n        <p id=\"comment_filed\">{{element.comment}}</p>\n      </td>\n    </ng-container>\n\n    <!-- Register Button -->\n    <ng-container matColumnDef=\"Register\">\n      <th mat-header-cell *matHeaderCellDef> Register </th>\n      <td class=\"reg_button\" mat-cell *matCellDef=\"let element\">\n        <button mat-flat-button color=\"primary\" (click)=\"register(element.sn)\">\n          Register\n        </button>\n      </td>\n    </ng-container>\n\n    <tr mat-header-row *matHeaderRowDef=\"displayedColumns\"></tr>\n    <tr mat-row *matRowDef=\"let row; columns: displayedColumns;\"></tr>\n  </table>\n</div>\n","<h1 mat-dialog-title>Version Register</h1>\n<div mat-dialog-content>\n  <mat-form-field>\n    <p>Version Identity?</p>\n    <input matInput [(ngModel)]=\"version\">\n  </mat-form-field>\n</div>\n<div mat-dialog-actions>\n  <button mat-button (click)=\"onCancel()\">No Thanks</button>\n  <button mat-button [mat-dialog-close]=\"version\">Ok</button>\n</div>\n","import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { DashComponent } from './dash/dash.component';\nimport { JobHistoryComponent } from './job-history/job-history.component';\n\nconst routes: Routes = [\n    { path: '', redirectTo: \"/dash\", pathMatch: 'full' },\n    { path: 'dash', component: DashComponent },\n];\n\n@NgModule({\n    declarations: [],\n    imports: [\n        RouterModule.forRoot(routes)\n    ],\n    exports: [RouterModule]\n})\nexport class AppRoutingModule { }\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.error(err));\n","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"zn8P\";","import { Component, OnInit } from '@angular/core';\nimport { MessageService } from '../message.service';\nimport { VerResult } from './verResult';\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\nimport { Message, QueryEvent } from '../message';\n\n\n@Component({\n    selector: 'app-ver-file-explorer',\n    templateUrl: './ver-file-explorer.component.html',\n    styleUrls: ['./ver-file-explorer.component.css'],\n})\nexport class VerFileExplorerComponent implements OnInit {\n\n    results: { [index: string]: VerResult } = {};\n    constructor(\n        private msgService: MessageService,\n        private http: HttpClient\n    ) { }\n\n    ngOnInit(): void {\n        // Send an event to master to acquire already generated\n        // files.\n        this.msgService.sendMsg(new QueryEvent([\"files\"]));\n        this.msgService.register(msg => msg.type == \"job.msg.file.exists\")\n            .subscribe(msg => {\n                let message: Object = msg.content.message;\n\n                for (let idx in message) {\n                    this.results[idx] = message[idx];\n                }\n\n                this.switchToGrowState();\n            });\n    }\n\n    switchToGrowState(): void {\n        this.msgService.register(msg => msg.type == \"job.msg.file.new\")\n            .subscribe(msg => {\n                let file: VerResult = msg.content.message;\n                let unique_id: string = file['unique_id'];\n\n                if (unique_id in this.results) {\n                    return;\n                } else {\n                    this.results[unique_id] = file;\n                }\n            });\n    }\n\n    files_dict(): { [index: string]: VerResult } {\n        return this.results;\n    }\n\n    files(): VerResult[] {\n        return Object.values(this.results);\n    }\n\n    retrieve_file(unique_id: string): void {\n        console.log(unique_id);\n        console.log(this.results[unique_id]);\n\n        if (unique_id in this.results) {\n            let result = this.results[unique_id];\n            window.open(result.url);\n        } else {\n            // Alert\n        }\n    }\n\n}\n","<div id=\"FileExplorer\">\n  <div class=\"ExplorePanel\">\n    <mat-form-field>\n      <mat-label>Files</mat-label>\n      <mat-select #SelectedVersion>\n        <mat-option *ngFor=\"let result of files()\" [value]=\"result\">\n          {{result.unique_id}}:{{result.ver_id}}\n        </mat-option>\n      </mat-select>\n    </mat-form-field>\n\n  </div>\n  <button mat-flat-button color=\"primary\"\n          (click)=\"retrieve_file(SelectedVersion.value.unique_id)\">\n    Retrieve\n  </button>\n</div>\n"],"sourceRoot":"webpack:///"}
=======
{"version":3,"sources":["./src/app/channel.ts","./src/app/revision.service.ts","./src/app/task-state.service.ts","./src/environments/environment.ts","./src/app/progress-bar/progress-bar.component.ts","./src/app/progress-bar/progress-bar.component.html","./src/app/progress-bar/task_log_msg_dialog.html","./src/app/version.service.ts","./src/app/message.service.ts","./src/app/channel.service.ts","./src/app/app.component.ts","./src/app/app.component.html","./src/app/navbar-row.html","./src/app/app.module.ts","./src/app/dash/dash.component.ts","./src/app/dash/dash.component.html","./src/app/nav/nav.component.ts","./src/app/nav/nav.component.html","./src/app/ver-gen/ver-gen.component.ts","./src/app/ver-gen/ver-gen.component.html","./src/app/message.ts","./src/app/job-history/job-history.component.ts","./src/app/job-history/job-history.component.html","./src/app/job-history/task_log_msg_dialog.html","./src/app/ver-register/ver-register.component.ts","./src/app/ver-register/ver-register.component.html","./src/app/ver-register/register-dialog.html","./src/app/app-routing.module.ts","./src/main.ts","./$_lazy_route_resource lazy namespace object","./src/app/ver-file-explorer/ver-file-explorer.component.ts","./src/app/ver-file-explorer/ver-file-explorer.component.html"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["import { WebSocketSubject } from 'rxjs/webSocket';\n\n\nexport class Channel<T> extends WebSocketSubject<T> {\n\n    constructor(url: string) {\n        super(url);\n    }\n}\n","import { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { HttpClient } from '@angular/common/http';\nimport { Revision } from './revision';\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class RevisionService {\n\n    private revUrl = 'api/revisions';\n\n    constructor(private http: HttpClient) { }\n\n    getRevision(sn: string): Observable<Revision> {\n        const url = `${this.revUrl}/${sn}`;\n        return this.http.get<Revision>(url);\n    }\n\n    getRevisions(): Observable<Revision[]> {\n        return this.http.get<Revision[]>(this.revUrl);\n    }\n\n    getSomeRevs(sn: string | null, num: number): Observable<Revision[]> {\n        const url: string = sn != null ? `${this.revUrl}/${sn}/getSomeRevsFrom` :\n            `${this.revUrl}/getSomeRevs`;\n        const options = { params: { num: `${num}` } };\n        return this.http.get<Revision[]>(url, options);\n    }\n\n}\n","import { Injectable } from '@angular/core';\nimport { Observable, Observer, from } from 'rxjs';\nimport { concatMap, map, retryWhen, delay, filter } from 'rxjs/operators';\nimport { Message } from './message';\nimport { MessageService } from './message.service';\nimport { QueryEvent } from './message';\n\ninterface InfoLogUnit {\n    tid: string;\n    // Length of log message\n    length: number;\n    logBlobs: Blob[];\n    // field to indicate that\n    // is the log message is\n    // completly store into Database.\n    fin: boolean;\n};\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class TaskStateService {\n\n    private database_name: string = \"TaskInfo\";\n    private log_store_name: string = \"TaskLog\";\n\n    private database: IDBDatabase = undefined;\n    /**\n     * An container to place taks log content,\n     * each task has space no more than cache_limit's value.\n     * If content is execeed the limit then the content of\n     * cache will flush into IndexedDB as a Blob.\n     */\n    private log_cache: { [index: string]: string } = {};\n    private log_pos: { [index: string]: number } = {};\n\n    // Unit is KB\n    private cache_limit: number = 1024;\n    // Unstable Task info\n    private unstable_tasks: string[] = [];\n    private msg_src: Observable<Message>;\n\n    constructor(private msg_service: MessageService) {\n        // Register message\n        this.msg_src = this.msg_service\n            .register(msg => msg.type == \"job.msg.task.output\");\n    }\n\n    taskLogMessage(uid: string, tid: string): Observable<string> {\n        // combine uid and tid to generate a\n        // global uniqu id\n        tid = uid + \"_\" + tid;\n\n        // Is log exist in IndexedDB ?\n        return this.is_item_exists(tid).pipe(\n            concatMap(exists => this.load_task(tid, exists))\n        );\n    }\n\n    cleanPersistentData(): Observable<boolean> {\n        let cleared: boolean = undefined;\n        let db = this.access_db();\n        if (db == null) {\n            return;\n        }\n\n        db.subscribe(db => {\n            let transaction = db.transaction([this.log_store_name], \"readwrite\");\n            let obStore = transaction.objectStore(this.log_store_name);\n\n            let req = obStore.clear();\n            req.onsuccess = _ => {\n                cleared = true;\n            };\n            req.onerror = _ => {\n                cleared = false;\n            };\n        });\n\n        return new Observable(ob => {\n            let intvl = setInterval(() => {\n                if (cleared != undefined) {\n                    ob.next(cleared);\n                    ob.complete();\n                    clearInterval(intvl);\n                }\n            }, 1000);\n        })\n    }\n\n    private access_db(): Observable<IDBDatabase> | null {\n\n        if (this.database == undefined || this.database == null) {\n            // Open database\n            const request = indexedDB.open(this.database_name, 1);\n\n            request.onupgradeneeded = (event) => {\n                let database = request.result;\n\n                database.createObjectStore(\n                    this.log_store_name, { keyPath: \"tid\" }\n                )\n            }\n\n            request.onsuccess = (event) => {\n                this.database = request.result;\n            };\n\n            request.onerror = (event) => {\n                this.database = null;\n            };\n        }\n\n        return new Observable(ob => {\n            let intvl = setInterval(() => {\n                if (typeof this.database != 'undefined') {\n                    ob.next(this.database);\n                    clearInterval(intvl);\n                    ob.complete();\n                } else if (this.database == null) {\n                    clearInterval(intvl);\n                    ob.complete();\n                }\n            }, 100);\n        });\n    }\n\n    private is_item_exists(tid: string): Observable<boolean> {\n\n        let exists: boolean = undefined;\n\n        let db: Observable<IDBDatabase> | null = this.access_db()\n\n        if (db == null) {\n            // Assume that the log message is not exists\n            return from([false]);\n        }\n\n        db.subscribe(db => {\n\n            let transaction = db.transaction([this.log_store_name]);\n            let obStore = transaction.objectStore(this.log_store_name);\n\n            // ifa the ObjectStore is exists then there must\n            // exist an object with key is '0', cause the\n            // blob which key is '0', is the first object\n            // store into ObjectStore.\n            let req = obStore.openCursor(tid);\n\n            req.onsuccess = (event) => {\n                let cursor = req.result;\n\n                if (cursor) {\n                    exists = true;\n                } else {\n                    exists = false;\n                }\n            }\n\n            req.onerror = (event) => {\n                exists = false;\n            }\n\n        });\n\n\n        return new Observable(ob => {\n            let counter = setInterval(() => {\n                if (typeof exists != 'undefined') {\n                    clearInterval(counter);\n                    ob.next(exists);\n                    ob.complete();\n                }\n            }, 1000);\n        });\n    }\n\n    private load_task(tid: string, isLocal: boolean): Observable<string> {\n\n        if (isLocal) {\n            return this.load_task_log_from_local(tid).pipe(\n                // If there is only part of log reside\n                // on local then need to load rest of log\n                // from master\n                concatMap(msg => {\n                    if (msg == null) {\n                        return this.load_task_log_from_remote(tid);\n                    } else {\n                        return from([msg]);\n                    }\n                })\n            );\n        } else {\n            return this.load_task_log_from_remote(tid);\n        }\n    }\n\n    // precondition: item exist in IndexedDB\n    private load_task_log_from_local(tid: string): Observable<string> {\n        let load_success: boolean = undefined;\n        let log_messages: InfoLogUnit = undefined;\n\n        let db = this.access_db();\n\n        if (db == null) {\n            // Fail to access database return empty message.\n            return from([\"\"]);\n        }\n\n        db.subscribe(db => {\n            let transaction = db.transaction([this.log_store_name])\n            let obStore = transaction.objectStore(this.log_store_name);\n\n            let req = obStore.get(tid);\n\n            req.onsuccess = () => {\n                log_messages = req.result;\n                load_success = true;\n            }\n\n            req.onerror = () => {\n                load_success = false;\n            }\n        });\n\n        return new Observable(ob => {\n            let intvl = setInterval(() => {\n                if (load_success == true && typeof log_messages != 'undefined') {\n                    if (!(tid in this.log_pos)) {\n                        this.log_pos[tid] = log_messages.length;\n                    }\n                    this.load_task_log_from_local_internal(\n                        ob, log_messages.logBlobs, log_messages.fin);\n                    clearInterval(intvl);\n                } else if (load_success == false) {\n                    ob.next(\"\");\n                    ob.complete();\n                    clearInterval(intvl);\n                }\n            })\n        })\n    }\n\n    private load_task_log_from_local_internal(\n        ob: Observer<string>, messages: Blob[], isFin: boolean): void {\n\n        let prev: Promise<string> = messages[0].text();\n        let proc_messages = messages.slice(1, messages.length);\n\n        for (let msg of proc_messages) {\n            prev = prev.then(text => {\n                ob.next(text);\n                return msg.text();\n            })\n        }\n\n        prev.then(text => {\n            ob.next(text);\n            if (isFin) {\n                ob.next(\"\");\n            } else {\n                ob.next(null);\n            }\n\n            ob.complete();\n        });\n    }\n\n    private load_task_log_from_remote(id: string): Observable<string> {\n        let pos: number;\n        let uid: string = id.split(\"_\")[0];\n\n        if (!(id in this.log_pos)) {\n            // No position info about the task\n            // so there is no log file on local\n            // and set pos to 0, with 0 system\n            // able to get all data of log.\n            pos = this.log_pos[id] = 0;\n        } else {\n            pos = this.log_pos[id];\n        }\n\n        let tid = id.slice(id.indexOf(\"_\") + 1, id.length);\n\n        // Send first request\n        let event = new QueryEvent([\n            \"task\", uid, tid, (pos as any) as string\n        ]);\n        this.msg_service.sendMsg(event);\n\n        return this.retrieve_log_msg(id).pipe(\n            concatMap(msg => {\n                // Update log pos\n                this.log_pos[id] += msg.content.message.msg.length;\n\n                // Only part of log content on local\n                // try to request more content\n                if (msg.content.message.last == 0) {\n                    let event = new QueryEvent([\n                        \"task\", uid, tid, (this.log_pos[id] as any) as string\n                    ]);\n                    this.msg_service.sendMsg(event);\n                }\n                return from([msg]);\n            }),\n            // Cache the message\n            concatMap(msg => {\n                let msg_text = msg.content.message.msg;\n                this.cache(id, msg_text,\n                    msg.content.message.last == 1);\n                return from([msg_text]);\n            }),\n        );\n    }\n\n    private retrieve_log_msg(id: string): Observable<Message> {\n        let i = 0;\n\n        let obsv = this.msg_src.pipe(\n            filter(msg => {\n                console.log(msg);\n                let target_id = msg.content.message.uid + \"_\" +\n                    msg.content.message.task;\n                return id == target_id;\n            })\n        );\n\n        return obsv;\n    }\n\n    /**\n     * Reture:\n     *   True: Need to store into IndexedDB\n     *   False: No Need to store into IndexedDB\n     */\n    private cache(tid: string, data: string, isLast: boolean = false): void {\n\n        let exists = tid in this.log_cache;\n        if (!exists) {\n            this.log_cache[tid] = \"\";\n        }\n\n        // Cache update\n        this.log_cache[tid] = this.log_cache[tid] + data;\n\n        // Persistent Store\n        if (this.log_cache[tid].length > this.cache_limit || data == \"\") {\n            if (this.log_cache[tid].length == 0) {\n                return;\n            }\n\n            // Cache length exceed cache limit need to store\n            // store into IndexedDB.\n            this.persistent_store(tid, isLast);\n\n            // Flush all cache\n            this.log_cache[tid] = \"\";\n        }\n    }\n\n    /**\n     * Store the cache that correspond to the tid\n     * into IndexedDB.\n     */\n    private persistent_store(tid: string, isLast: boolean): void {\n\n        if (tid in this.unstable_tasks) {\n            // The info of the task is in unstable\n            // state, if store data into it may break\n            // the correctness of the data.\n            return;\n        }\n\n        // WRAP cache into Blob\n        const cache = this.log_cache[tid];\n        const blob = new Blob([cache]);\n\n        // Store the Blob into IndexedDB\n        let db: Observable<IDBDatabase> | null = this.access_db();\n\n        if (db == null) {\n            // Fail to access IndexedDB skip persistent_store.\n            return;\n        }\n\n        // Store blob with count as key.\n        let logInfo: InfoLogUnit = {\n            'tid': tid,\n            'logBlobs': [blob],\n            'length': cache.length,\n            'fin': isLast\n        }\n\n        db.subscribe(db => {\n            let transaction = db.transaction([this.log_store_name], \"readwrite\");\n            let obStore = transaction.objectStore(this.log_store_name);\n\n            let request_current = obStore.openCursor(tid);\n            request_current.onsuccess = (event) => {\n                let cursor = request_current.result;\n\n                if (cursor) {\n                    // Store the last cache into database\n                    let current_data: InfoLogUnit = cursor.value;\n                    current_data.logBlobs.push(blob);\n                    current_data.length += cache.length;\n                    current_data.fin = isLast;\n\n                    let request_update = obStore.put(current_data);\n                    request_update.onerror = (event) => {\n                        this.unstable_tasks.push(tid);\n                    }\n                } else {\n                    // No info of the task is stored in database\n                    // create a new one.\n                    let request = obStore.add(logInfo);\n                    request.onerror = (event) => {\n                        // Mark the task which tid equal to parameter\n                        // as a unstable state to prevent break of\n                        // data within database.\n                        this.unstable_tasks.push(tid);\n                    }\n\n                }\n            }\n        });\n    }\n\n    mark_fin(uid: string, tid: string): void {\n        this.set_fin_state(uid, tid, true);\n    }\n\n    set_fin_state(uid: string, tid: string, fin: boolean): void {\n\n        tid = uid + \"_\" + tid;\n\n        if (tid in this.unstable_tasks) {\n            return;\n        }\n\n        let db: Observable<IDBDatabase> | null = this.access_db();\n\n        if (db == null) {\n            return;\n        }\n\n        db.subscribe(db => {\n            let transaction = db.transaction([this.log_store_name], \"readwrite\");\n            let obStore = transaction.objectStore(this.log_store_name);\n\n            let request_current = obStore.get(tid);\n            request_current.onsuccess = (event) => {\n                let data: InfoLogUnit = request_current.result;\n\n                data.fin = fin;\n\n                let put_request = obStore.put(data);\n                put_request.onerror = (event) => {\n                    this.unstable_tasks.push(tid);\n                };\n\n            };\n        })\n    }\n}\n","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  production: false\n};\n\n/*\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\n","import { Component, OnInit } from '@angular/core';\nimport { MessageService } from '../message.service';\nimport { Message, QueryEvent } from '../message';\nimport { Job, Task } from '../job';\nimport { MatTableDataSource } from '@angular/material/table';\nimport { TaskStateService } from '../task-state.service';\nimport { MatDialog, MatDialogRef, MAT_DIALOG_DATA } from '@angular/material/dialog';\nimport { Inject } from '@angular/core';\n\n\ninterface Job_flat {\n    unique_id: string;\n    jobid: string;\n    tasks: Task[];\n}\n\nconst JobInfors: Job[] = [\n    {\n        \"unique_id\": \"uid\",\n        \"jobid\": \"Job\",\n        \"tasks\": {\n            \"T\": {\n                \"taskid\": \"T1\", \"state\": \"P\"\n            }\n        }\n    }\n];\n\n\n@Component({\n    selector: 'app-progress-bar',\n    templateUrl: './progress-bar.component.html',\n    styleUrls: ['./progress-bar.component.css']\n})\nexport class ProgressBarComponent implements OnInit {\n\n    private notify_allow: boolean = false;\n    jobs: { [index: string]: Job } = {};\n    jobSource = JobInfors;\n    displayedColumns: string[] = ['uid', 'Name', 'Tasks'];\n    dataSource = new MatTableDataSource<Job_flat>();\n    current_open_message: string[] = [];\n\n    constructor(\n        private msg_service: MessageService,\n        private tss: TaskStateService,\n        private dialog: MatDialog) {\n\n        this.msg_service.register(msg => msg.type == \"job.msg\").subscribe(msg => {\n            this.job_state_message_handle(msg);\n        });\n    }\n\n    ngOnInit(): void {\n        /**\n         * Query current state from Master.\n         */\n        this.msg_service.sendMsg(new QueryEvent([\"processing\"]));\n\n        let subscribtion = this.msg_service.register(msg => msg.type == \"job.msg.batch\")\n            .subscribe(init_msg => {\n\n                // Subtype of message must a batch\n                if (init_msg.content.subtype != \"batch\") {\n                    console.log(\"ProgressBar init: receive error message\");\n                } else {\n                    // Correct message type\n                    for (let msg of init_msg.content.message) {\n                        this.job_state_message_handle_internal(msg);\n                    }\n\n                    subscribtion.unsubscribe();\n                    this.notify_allow = true;\n                    this.dataSource.data = this.get_jobs()\n                }\n            });\n    }\n\n    job_state_message_handle(msg: Message): void {\n        // Component is not initiliazed,\n        // unable to process notify at this stage.\n        if (this.notify_allow === false) {\n            return;\n        }\n\n        this.job_state_message_handle_internal(msg);\n        this.dataSource.data = this.get_jobs()\n    }\n\n    job_state_message_handle_internal(msg: Message): void {\n        let content = msg.content;\n        let subtype: string;\n\n        // Corrupted by invalid format of message is\n        // not allowed.\n        try {\n            subtype = content['subtype'];\n\n            switch (subtype) {\n                case \"change\":\n                    this.job_state_message_change_handle(msg);\n                    break;\n                case \"fin\":\n                    this.job_state_message_fin_handle(msg);\n                    break;\n                case \"fail\":\n                    this.job_state_message_fail_handle(msg)\n                    break;\n                case \"info\":\n                    this.job_state_message_info_handle(msg);\n                    break;\n            }\n        } catch (error) {\n            console.log(error);\n        }\n\n    }\n\n    get_jobs(): Job_flat[] {\n        let job_flats: Job_flat[] = [];\n\n        for (let job of Object.values(this.jobs)) {\n            let job_f: Job_flat = {\n                \"unique_id\": job.unique_id,\n                \"jobid\": job.jobid,\n                \"tasks\": Object.values(job.tasks)\n            };\n            job_flats.push(job_f);\n        }\n\n        return job_flats;\n    }\n\n    is_task_success(task: Task): boolean {\n        return task.state == 'FIN';\n    }\n\n    is_task_fail(task: Task): boolean {\n        return task.state == 'FAIL';\n    }\n\n    job_state_message_info_handle(msg: Message): void {\n        let message: { [index: string]: any } = msg['content']['message'];\n        if (typeof message == 'undefined')\n            return\n\n        // Treat as a trivial job just drop it.\n        if (message[\"tasks\"].length == 0)\n            return;\n\n        // Build Task dictionary.\n        let tasks: { [index: string]: Task } = {};\n        for (let task of message[\"tasks\"]) {\n            tasks[task[0]] = { \"taskid\": task[0], \"state\": task[1] };\n        }\n\n        // Build Job.\n        let job: Job = {\n            \"unique_id\": message['unique_id'],\n            \"jobid\": message['jobid'],\n            \"tasks\": tasks\n        };\n\n        this.jobs[message['unique_id']] = job;\n    }\n\n    job_state_message_change_handle(msg: Message): void {\n        let content = msg['content']['message'];\n\n        let job = this.jobs[content['unique_id']];\n        if (typeof job == 'undefined')\n            return;\n\n        let task = job.tasks[content['taskid']];\n        if (typeof task == 'undefined')\n            return;\n\n        task.state = content['state'];\n    }\n\n    job_state_message_fin_handle(msg: Message): void {\n        let content = msg['content']['message'];\n        let unique_id: string = content['jobs'][0];\n\n        delete this.jobs[unique_id];\n    }\n\n    job_state_message_fail_handle(msg: Message): void {\n        let content = msg['content']['message'];\n        let unique_id: string = content['jobs'][0];\n\n        delete this.jobs[unique_id];\n\n    }\n\n    get_task_message_log(uid: string, taskId: string): void {\n        // Retrieve task log message.\n        let sub = this.tss.taskLogMessage(uid, taskId).subscribe(message => {\n            this.current_open_message.push(message);\n        });\n\n        // Open a dialog to display messages.\n        this.dialog.open(TaskLogDialogProgress, {\n            width: '30cm',\n            data: {\n                dataKey: this.current_open_message\n            }\n        }).afterClosed().subscribe(_ => {\n            sub.unsubscribe();\n            this.current_open_message = [];\n        });\n    }\n}\n\n@Component({\n    selector: 'task-log-dialog',\n    templateUrl: 'task_log_msg_dialog.html'\n})\nexport class TaskLogDialogProgress {\n\n    public version: string;\n\n    constructor(\n        @Inject(MAT_DIALOG_DATA) public data: any,\n        public dialogRef: MatDialogRef<TaskLogDialogProgress>) { }\n\n    onCancel(): void {\n        this.dialogRef.close();\n    }\n}\n","<div class=\"running-table-container\">\n  <table mat-table [dataSource]=\"dataSource\" *ngIf=\"dataSource.data.length > 0\">\n    <!-- Unique ID -->\n    <ng-container matColumnDef=\"uid\">\n      <th mat-header-cell *matHeaderCellDef> UID </th>\n      <td mat-cell *matCellDef=\"let element\">\n        <p class=\"uid_field\">{{element.unique_id}}</p>\n      </td>\n    </ng-container>\n\n    <!-- Job Name -->\n    <ng-container matColumnDef=\"Name\">\n      <th mat-header-cell *matHeaderCellDef> Name </th>\n      <td mat-cell *matCellDef=\"let element\"> {{element.jobid}} </td>\n    </ng-container>\n\n    <!-- Tasks -->\n    <ng-container matColumnDef=\"Tasks\">\n      <th mat-header-cell *matHeaderCellDef> Tasks </th>\n      <td mat-cell *matCellDef=\"let element\">\n        <div class=\"task-container\">\n          <p class=\"Task\" *ngFor=\"let t of element.tasks\"\n             (click)=\"get_task_message_log(element.unique_id, t.taskid)\"\n             [ngStyle]=\"{ 'color': is_task_success(t) ? 'green' : (is_task_fail(t) ? 'red' : 'orange') }\">\n            {{t.taskid}}\n          </p>\n        </div>\n      </td>\n    </ng-container>\n\n    <tr mat-header-row *matHeaderRowDef=\"displayedColumns\"></tr>\n    <tr mat-row *matRowDef=\"let row; columns: displayedColumns;\"></tr>\n  </table>\n</div>\n","<h1 mat-dialog-title>Log Message</h1>\n<div mat-dialog-content id=\"log_dialog\">\n  <p *ngFor=\"let msg of data.dataKey\">{{msg}}</p>\n</div>\n<div mat-dialog-actions>\n  <button mat-button>Downloads</button>\n</div>\n","import { Injectable } from '@angular/core';\nimport { Observable, of } from 'rxjs';\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\nimport { Version, VersionBuild } from './version';\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class VersionService {\n\n    private verUrl = 'api/versions';\n\n    httpOptions = {\n        headers: new HttpHeaders({ 'Content-Type': 'application/json' }),\n    };\n\n    constructor(\n        private http: HttpClient\n    ) { }\n\n    getVersion(vsn: string): Observable<Version> {\n        const url = `${this.verUrl}/${vsn}/`;\n        return this.http.get<Version>(url);\n    }\n\n    getVersions(): Observable<Version[]> {\n        return this.http.get<Version[]>(`${this.verUrl}/`);\n    }\n\n    updateVersion(ver: Version): Observable<any> {\n        return this.http.put(`${this.verUrl}/`, ver, this.httpOptions);\n    }\n\n    removeVersion(vsn: string): Observable<Version> {\n        const url = `${this.verUrl}/${vsn}/`;\n        return this.http.delete<Version>(url, this.httpOptions);\n    }\n\n    addVersion(ver: Version): Observable<Version> {\n        return this.http.post<Version>(`${this.verUrl}/`, ver, this.httpOptions);\n    }\n\n    generate(build: VersionBuild): Observable<any> {\n        const genUrl = `${this.verUrl}/${build.ver.vsn}/generate/`;\n        return this.http.put(genUrl, build.info, this.httpOptions);\n    }\n\n}\n","import { Injectable } from '@angular/core';\nimport { Observable, from } from 'rxjs';\nimport { filter } from 'rxjs/operators';\nimport { Message } from './message';\nimport { ChannelService } from \"./channel.service\";\nimport { Channel } from \"./channel\";\n\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class MessageService {\n\n    private sock_url = \"/commu/\";\n\n    private channel: Channel<Message>;\n\n    constructor(private channelService: ChannelService) {\n        this.channel = this.channelService.create(\n            \"ws://\" + location.host + this.sock_url\n        ) as Channel<Message>;\n    }\n\n    register(checker: (msg: Message) => boolean): Observable<Message> | null {\n        return this.channel.pipe(\n            filter(msg => checker(msg))\n        );\n    }\n\n    sendMsg(msg: Message): void {\n        this.channel.next(msg);\n    }\n}\n","import { Injectable } from '@angular/core';\nimport { Channel } from './channel';\n\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class ChannelService {\n\n    private channels: { [index: string]: Channel<Object> } = {};\n    constructor() { }\n\n    create(url: string): Channel<Object> {\n        let channel: Channel<Object> = new Channel<Object>(url);\n\n        if (this.channels[url] == undefined) {\n            // New channel\n            this.channels[url] = channel;\n        } else {\n            // Exist channel\n            return this.channels[url]\n        }\n\n        return channel;\n    }\n\n    close(url: string): void {\n        if (this.channels[url] != undefined) {\n            this.channels[url].complete();\n        }\n    }\n}\n","import { Component } from '@angular/core';\n\n@Component({\n    selector: 'app-root',\n    templateUrl: './app.component.html',\n    styleUrls: ['./app.component.css']\n})\nexport class AppComponent {\n    title = 'VerManager-Front';\n}\n\n@Component({\n    selector: 'navbar-row',\n    templateUrl: './navbar-row.html',\n    styleUrls: ['./navbar-row.css']\n})\nexport class NavrowComponent { }\n","<app-nav></app-nav>\n","<mat-toolbar class=\"mat-elevation-z5\" color=\"primary\">\n  Version Manager\n</mat-toolbar>\n","import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\nimport { VerGenComponent } from './ver-gen/ver-gen.component';\nimport { VerRegisterComponent, RegisterDialog } from './ver-register/ver-register.component';\nimport { ProgressBarComponent, TaskLogDialogProgress } from './progress-bar/progress-bar.component';\nimport { AppComponent, NavrowComponent } from './app.component';\nimport { MatListModule } from '@angular/material/list';\nimport { MatExpansionModule } from '@angular/material/expansion';\nimport { MatDialogModule } from '@angular/material/dialog';\nimport { MatButtonModule } from '@angular/material/button';\nimport { MatInputModule } from '@angular/material/input';\nimport { MatSelectModule } from '@angular/material/select';\nimport { MatGridListModule } from '@angular/material/grid-list';\nimport { MatToolbarModule } from '@angular/material/toolbar';\nimport { FormsModule } from '@angular/forms';\nimport { HttpClientModule } from '@angular/common/http';\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\nimport { MatSidenavModule } from '@angular/material/sidenav';\nimport { MatDividerModule } from '@angular/material/divider';\nimport { MatTableModule } from '@angular/material/table';\nimport { JobHistoryComponent, TaskLogDialogHistory } from './job-history/job-history.component';\nimport { VerFileExplorerComponent } from './ver-file-explorer/ver-file-explorer.component';\nimport { DashComponent } from './dash/dash.component';\nimport { MatCardModule } from '@angular/material/card';\nimport { MatMenuModule } from '@angular/material/menu';\nimport { MatIconModule } from '@angular/material/icon';\nimport { LayoutModule } from '@angular/cdk/layout';\nimport { NavComponent } from './nav/nav.component';\nimport { AppRoutingModule } from './app-routing.module';\nimport { APP_BASE_HREF } from '@angular/common';\n\n@NgModule({\n    declarations: [\n        AppComponent,\n        VerGenComponent,\n        VerRegisterComponent,\n        RegisterDialog,\n        ProgressBarComponent,\n        NavrowComponent,\n        JobHistoryComponent,\n        VerFileExplorerComponent,\n        DashComponent,\n        NavComponent,\n        TaskLogDialogProgress,\n        TaskLogDialogHistory,\n    ],\n    imports: [\n        BrowserModule,\n        BrowserAnimationsModule,\n        HttpClientModule,\n        FormsModule,\n        MatListModule,\n        MatExpansionModule,\n        MatDialogModule,\n        MatButtonModule,\n        MatInputModule,\n        MatSelectModule,\n        MatGridListModule,\n        MatToolbarModule,\n        MatSidenavModule,\n        MatDividerModule,\n        MatTableModule,\n        MatCardModule,\n        MatMenuModule,\n        MatIconModule,\n        LayoutModule,\n        AppRoutingModule\n    ],\n    providers: [{ provide: APP_BASE_HREF, useValue: '/manager' }],\n    bootstrap: [AppComponent]\n})\nexport class AppModule { }\n","import { Component } from '@angular/core';\nimport { map } from 'rxjs/operators';\nimport { Breakpoints, BreakpointObserver } from '@angular/cdk/layout';\n\n\n@Component({\n    selector: 'app-dash',\n    templateUrl: './dash.component.html',\n    styleUrls: ['./dash.component.css']\n})\nexport class DashComponent {\n    /** Based on the screen size, switch from standard to one column per row */\n    cards = this.breakpointObserver.observe(Breakpoints.Handset).pipe(\n        map(({ matches }) => {\n            if (matches) {\n                return [\n                    { title: 'Card 1', cols: 1, rows: 1 },\n                ];\n            }\n\n            return [\n                { title: 'History', cols: 2, rows: 1 },\n            ];\n        })\n    );\n\n    constructor(private breakpointObserver: BreakpointObserver) { }\n}\n","<div class=\"grid-container\">\n  <mat-grid-list cols=\"4\" rowHeight=\"350px\">\n\n    <!-- History Panel -->\n    <mat-grid-tile [colspan]=\"2\" [rowspan]=\"1\">\n      <mat-card class=\"dashboard-card\">\n        <mat-card-title>History</mat-card-title>\n        <mat-card-content>\n          <app-job-history></app-job-history>\n        </mat-card-content>\n      </mat-card>\n    </mat-grid-tile>\n\n    <!-- In-Running Task -->\n    <mat-grid-tile [colspan]=\"2\" [rowspan]=\"1\">\n      <mat-card class=\"dashboard-card\">\n        <mat-card-title>Running</mat-card-title>\n        <mat-card-content>\n          <app-progress-bar></app-progress-bar>\n        </mat-card-content>\n      </mat-card>\n    </mat-grid-tile>\n\n    <!-- Register -->\n    <mat-grid-tile [colspan]=\"2\" [rowspan]=\"2\">\n      <mat-card class=\"dashboard-card\">\n        <mat-card-title>Register</mat-card-title>\n        <mat-card-content>\n          <app-ver-register></app-ver-register>\n        </mat-card-content>\n      </mat-card>\n    </mat-grid-tile>\n\n    <!-- File Explore -->\n    <mat-grid-tile [colspan]=\"1\" [rowspan]=\"1\">\n      <mat-card class=\"dashboard-card\">\n        <mat-card-title>File Explore</mat-card-title>\n        <mat-card-content>\n          <app-ver-file-explorer></app-ver-file-explorer>\n        </mat-card-content>\n      </mat-card>\n    </mat-grid-tile>\n\n    <!-- Generate Panel -->\n    <mat-grid-tile [colspan]=\"1\" [rowspan]=\"1\">\n      <mat-card class=\"dashboard-card\">\n        <mat-card-title>Generate</mat-card-title>\n        <mat-card-content>\n          <app-ver-gen></app-ver-gen>\n        </mat-card-content>\n      </mat-card>\n    </mat-grid-tile>\n\n\n  </mat-grid-list>\n</div>\n","import { Component } from '@angular/core';\nimport { BreakpointObserver, Breakpoints } from '@angular/cdk/layout';\nimport { Observable } from 'rxjs';\nimport { map, shareReplay } from 'rxjs/operators';\n\n@Component({\n    selector: 'app-nav',\n    templateUrl: './nav.component.html',\n    styleUrls: ['./nav.component.css']\n})\nexport class NavComponent {\n\n    menuItems = ['dash']\n\n    isHandset$: Observable<boolean> = this.breakpointObserver.observe(Breakpoints.Handset)\n        .pipe(\n            map(result => result.matches),\n            shareReplay()\n        );\n\n    constructor(private breakpointObserver: BreakpointObserver) { }\n\n}\n","<mat-sidenav-container class=\"sidenav-container\">\n  <mat-sidenav #drawer class=\"sidenav\" fixedInViewport\n      [attr.role]=\"(isHandset$ | async) ? 'dialog' : 'navigation'\"\n      [mode]=\"(isHandset$ | async) ? 'over' : 'side'\"\n      [opened]=\"(isHandset$ | async) === false\">\n    <mat-toolbar>Menu</mat-toolbar>\n    <mat-nav-list>\n      <a *ngFor=\"let item of menuItems\" class=\"nav_button\" mat-list-item [routerLink]=\"'/'+item\">\n        {{item | titlecase}}\n      </a>\n    </mat-nav-list>\n  </mat-sidenav>\n  <mat-sidenav-content>\n    <mat-toolbar color=\"primary\">\n      <button\n        type=\"button\"\n        aria-label=\"Toggle sidenav\"\n        mat-icon-button\n        (click)=\"drawer.toggle()\"\n        *ngIf=\"isHandset$ | async\">\n        <mat-icon aria-label=\"Side nav toggle icon\">menu</mat-icon>\n      </button>\n      <span>VerManager</span>\n    </mat-toolbar>\n    <!-- Add Content Here -->\n    <router-outlet></router-outlet>\n  </mat-sidenav-content>\n</mat-sidenav-container>\n","import { Component, OnInit } from '@angular/core';\nimport { VersionService } from '../version.service';\nimport { RevisionService } from '../revision.service';\nimport { Version, VersionBuild, BuildInfo } from '../version';\nimport { Revision } from '../revision';\n\n\n@Component({\n    selector: 'app-ver-gen',\n    templateUrl: './ver-gen.component.html',\n    styleUrls: ['./ver-gen.component.css']\n})\nexport class VerGenComponent implements OnInit {\n\n    versions: Version[] = [];\n    revisions: Revision[] = [];\n\n    constructor(\n        private verService: VersionService,\n        private revService: RevisionService\n    ) { }\n\n    ngOnInit(): void {\n        this.refresh()\n    }\n\n    generate(version: Version | undefined, ...infos: string[]): void {\n        let buildInfo: BuildInfo = {};\n\n        if (typeof version !== 'undefined') {\n\n            if (infos.length === 2) {\n                buildInfo = { logFrom: infos[0], logTo: infos[1] };\n            }\n\n            const build: VersionBuild = { ver: version, info: buildInfo };\n            this.verService.generate(build).subscribe();\n        }\n    }\n\n    refresh(): void {\n        this.verService.getVersions()\n            .subscribe(versions => this.versions = versions);\n        this.revService.getRevisions()\n            .subscribe(revisions => this.revisions = revisions);\n    }\n}\n","<div id=\"VerGenPanel\">\n  <mat-list>\n    <mat-list-item>\n      <mat-form-field>\n        <mat-label>Version</mat-label>\n        <mat-select #SelectedVersion>\n          <mat-option *ngFor=\"let version of versions\" [value]=\"version\">\n            {{version.vsn}}\n          </mat-option>\n        </mat-select>\n      </mat-form-field>\n    </mat-list-item>\n\n    <mat-list-item>\n      <mat-form-field>\n        <mat-label>Log from</mat-label>\n        <mat-select #logFrom>\n          <mat-option *ngFor=\"let revision of revisions\" [value]=\"revision.sn\">\n            {{revision.sn}}\n          </mat-option>\n        </mat-select>\n      </mat-form-field>\n    </mat-list-item>\n\n    <mat-list-item>\n      <mat-form-field>\n        <mat-label>Log from</mat-label>\n        <mat-select #logTo>\n          <mat-option *ngFor=\"let revision of revisions\" [value]=\"revision.sn\">\n            {{revision.sn}}\n          </mat-option>\n        </mat-select>\n      </mat-form-field>\n    </mat-list-item>\n\n    <mat-list-item>\n      <button id=\"genButton\" mat-flat-button color=\"primary\"\n              (click)=\"generate(SelectedVersion.value, logFrom.value, logTo.value)\">\n        Generate\n      </button>\n    </mat-list-item>\n  </mat-list>\n</div>\n","export interface Message {\n    type: string;\n    content: { [index: string]: any };\n}\n\nexport class QueryEvent implements Message {\n    type: string;\n    content: { [index: string]: any };\n\n    constructor(args: string[]) {\n        this.type = \"query\";\n        this.content = {\n            \"subtype\": \"JobMaster\",\n            \"message\": {\n                \"args\": args\n            }\n        };\n    }\n}\n\nexport function message_check(msg: any): boolean {\n    if (typeof msg == 'object') {\n        if (typeof msg['type'] != 'undefined' ||\n            typeof msg['content'] != 'undefined') {\n\n            return true;\n        }\n\n        return false;\n    }\n}\n","import { Component, OnInit } from '@angular/core';\nimport { MessageService } from '../message.service';\nimport { Message, QueryEvent } from '../message';\nimport { Job, Task } from '../job';\nimport { MatTableDataSource } from '@angular/material/table';\nimport { TaskStateService } from '../task-state.service';\nimport { MatDialog, MatDialogRef, MAT_DIALOG_DATA } from '@angular/material/dialog';\nimport { Inject } from '@angular/core';\n\n\n@Component({\n    selector: 'app-job-history',\n    templateUrl: './job-history.component.html',\n    styleUrls: ['./job-history.component.css']\n})\nexport class JobHistoryComponent implements OnInit {\n\n    history: Job[] = [];\n    displayedColumns: string[] = ['uid', 'Name', 'Tasks']\n    dataSource = new MatTableDataSource<Job>([]);\n    current_open_message: string[] = [];\n\n    constructor(\n        private msg_service: MessageService,\n        private tss: TaskStateService,\n        private dialog: MatDialog) {\n\n        this.msg_service.register(msg => msg.type == \"job.msg.history\")\n            .subscribe(history_msg => {\n                this.history_msg_handle(history_msg);\n            });\n    }\n\n    ngOnInit(): void {\n        /**\n         * Observer to handle reply of this query is already\n         * subscribe on constructor.\n         */\n        this.msg_service.sendMsg(new QueryEvent([\"history\"]));\n    }\n\n    history_msg_handle(msg: Message): void {\n        if (msg.content['subtype'] != 'history') {\n            return;\n        }\n\n        for (let obj of Object.values(msg.content['message'])) {\n            let job: Job = {\n                \"unique_id\": obj['unique_id'],\n                \"jobid\": obj['jobid'],\n                \"tasks\": obj['tasks']\n            };\n            this.history.push(job);\n        }\n        this.dataSource.data = this.history;\n    }\n\n    job_tasks(job: Job): Task[] {\n        return Object.values(job.tasks);\n    }\n\n    is_task_success(task: Task): boolean {\n        return task.state == 'FIN';\n    }\n\n    is_task_fail(task: Task): boolean {\n        return task.state == \"FAIL\";\n    }\n\n    get_task_log_messages(uid: string, taskId: string): void {\n        let sub = this.tss.taskLogMessage(uid, taskId).subscribe(message => {\n            console.log(\"Message arrived\")\n            this.current_open_message.push(message);\n        });\n\n        this.dialog.open(TaskLogDialogHistory, {\n            width: '30cm',\n            data: {\n                dataKey: this.current_open_message\n            }\n        }).afterClosed().subscribe(_ => {\n            sub.unsubscribe();\n            this.current_open_message = [];\n        });\n    }\n}\n\n\n@Component({\n    selector: 'task-log-dialog',\n    templateUrl: 'task_log_msg_dialog.html'\n})\nexport class TaskLogDialogHistory {\n\n    public version: string;\n\n    constructor(\n        @Inject(MAT_DIALOG_DATA) public data: any,\n        public dialogRef: MatDialogRef<TaskLogDialogHistory>) { }\n\n    onCancel(): void {\n        this.dialogRef.close();\n    }\n}\n","<div class=\"history-table-container\">\n  <table mat-table [dataSource]=\"dataSource\" *ngIf=\"dataSource.data.length > 0\">\n    <!-- Unique ID -->\n    <ng-container matColumnDef=\"uid\">\n      <th mat-header-cell *matHeaderCellDef> UID </th>\n      <td mat-cell *matCellDef=\"let element\">\n        <p class=\"uid_field\">{{element.unique_id}}</p>\n      </td>\n    </ng-container>\n\n    <!-- Job Name -->\n    <ng-container matColumnDef=\"Name\">\n      <th mat-header-cell *matHeaderCellDef> Name </th>\n      <td mat-cell *matCellDef=\"let element\"> {{element.jobid}} </td>\n    </ng-container>\n\n    <!-- Tasks -->\n    <ng-container matColumnDef=\"Tasks\">\n      <th mat-header-cell *matHeaderCellDef> Tasks </th>\n      <td mat-cell *matCellDef=\"let element\">\n        <div class=\"task-container\">\n          <p class=\"Task\" *ngFor=\"let t of job_tasks(element)\"\n             (click)=\"get_task_log_messages(element.unique_id, t.taskid)\"\n             [ngStyle]=\"{ 'color': is_task_success(t) ? 'green' : (is_task_fail(t) ? 'red' : 'yellow') }\">\n            {{t.taskid}}\n          </p>\n        </div>\n      </td>\n    </ng-container>\n\n    <tr mat-header-row *matHeaderRowDef=\"displayedColumns\"></tr>\n    <tr mat-row *matRowDef=\"let row; columns: displayedColumns;\"></tr>\n  </table>\n</div>\n","<h1 mat-dialog-title>Log Message</h1>\n<div mat-dialog-content id=\"log_dialog\">\n  <p *ngFor=\"let msg of data.dataKey\">{{msg}}</p>\n</div>\n<div mat-dialog-actions>\n  <button mat-button>Downloads</button>\n</div>\n","import { Component, OnInit } from '@angular/core';\nimport { VersionService } from '../version.service';\nimport { RevisionService } from '../revision.service';\nimport { Version } from '../version';\nimport { Revision } from '../revision';\nimport { MatDialog, MatDialogRef } from '@angular/material/dialog';\n\n@Component({\n    selector: 'app-ver-register',\n    templateUrl: './ver-register.component.html',\n    styleUrls: ['./ver-register.component.css']\n})\nexport class VerRegisterComponent implements OnInit {\n\n    versions: Version[] = [];\n    revisions: Revision[] = [];\n\n    lastScrollTop: number = 0;\n    revList: HTMLElement | null = null;\n\n    displayedColumns: string[] = ['Comment', 'Register'];\n\n    constructor(private verService: VersionService,\n        private revService: RevisionService,\n        private dialog: MatDialog) { }\n\n    ngOnInit(): void {\n        this.getVersions();\n        this.getSomeRevs(null, 20);\n    }\n\n    register(rev: string): void {\n        const ref = this.dialog.open(RegisterDialog, {\n            width: '250px'\n        });\n\n        ref.afterClosed().subscribe(result => {\n            if (result !== undefined) {\n                const ver: Version = { vsn: result, sn: rev };\n                this.verService.addVersion(ver)\n                    .subscribe();\n            }\n        });\n    }\n\n    remove(ver: Version): void {\n        this.verService.removeVersion(ver.vsn)\n            .subscribe();\n    }\n\n    getVersions(): void {\n        this.verService.getVersions()\n            .subscribe(versions => this.versions = versions);\n    }\n\n    getRevisions(): void {\n        this.revService.getRevisions()\n            .subscribe(revisions => this.revisions = revisions);\n    }\n\n    getSomeRevs(sn: string | null, num: number): void {\n        this.revService.getSomeRevs(sn, num)\n            .subscribe(revisions => this.revisions = this.revisions.concat(revisions));\n    }\n\n    logging(msg: string): void {\n        console.log(msg);\n    }\n\n    onScroll(event: any): void {\n        // visible height + pixel scrolled >= total height\n        if (event.target.offsetHeight + event.target.scrollTop >= event.target.scrollHeight) {\n            let lastSn: Revision = this.revisions[this.revisions.length - 1];\n            this.revService.getSomeRevs(lastSn.sn, 10)\n                .subscribe(revisions => {\n                    const height: number = event.target.scrollHeight;\n                    this.revisions = this.revisions.concat(revisions);\n                });\n        }\n    }\n}\n\n@Component({\n    selector: 'register-dialog',\n    templateUrl: 'register-dialog.html'\n})\nexport class RegisterDialog {\n\n    public version: string;\n\n    constructor(\n        public dialogRef: MatDialogRef<RegisterDialog>) { }\n\n    onCancel(): void {\n        this.dialogRef.close();\n    }\n}\n","<div class=\"table-container\" (scroll)=\"onScroll($event)\">\n  <table mat-table [dataSource]=\"revisions\" *ngIf=\"revisions.length > 0\">\n    <!-- Comment Column -->\n    <ng-container matColumnDef=\"Comment\">\n      <th mat-header-cell *matHeaderCellDef> Comment </th>\n      <td mat-cell *matCellDef=\"let element\">\n        <p id=\"comment_filed\">{{element.comment}}</p>\n      </td>\n    </ng-container>\n\n    <!-- Register Button -->\n    <ng-container matColumnDef=\"Register\">\n      <th mat-header-cell *matHeaderCellDef> Register </th>\n      <td class=\"reg_button\" mat-cell *matCellDef=\"let element\">\n        <button mat-flat-button color=\"primary\" (click)=\"register(element.sn)\">\n          Register\n        </button>\n      </td>\n    </ng-container>\n\n    <tr mat-header-row *matHeaderRowDef=\"displayedColumns\"></tr>\n    <tr mat-row *matRowDef=\"let row; columns: displayedColumns;\"></tr>\n  </table>\n</div>\n","<h1 mat-dialog-title>Version Register</h1>\n<div mat-dialog-content>\n  <mat-form-field>\n    <p>Version Identity?</p>\n    <input matInput [(ngModel)]=\"version\">\n  </mat-form-field>\n</div>\n<div mat-dialog-actions>\n  <button mat-button (click)=\"onCancel()\">No Thanks</button>\n  <button mat-button [mat-dialog-close]=\"version\">Ok</button>\n</div>\n","import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { DashComponent } from './dash/dash.component';\nimport { JobHistoryComponent } from './job-history/job-history.component';\n\nconst routes: Routes = [\n    { path: '', redirectTo: \"/dash\", pathMatch: 'full' },\n    { path: 'dash', component: DashComponent },\n];\n\n@NgModule({\n    declarations: [],\n    imports: [\n        RouterModule.forRoot(routes)\n    ],\n    exports: [RouterModule]\n})\nexport class AppRoutingModule { }\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.error(err));\n","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"zn8P\";","import { Component, OnInit } from '@angular/core';\nimport { MessageService } from '../message.service';\nimport { VerResult } from './verResult';\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\nimport { Message, QueryEvent } from '../message';\n\n\n@Component({\n    selector: 'app-ver-file-explorer',\n    templateUrl: './ver-file-explorer.component.html',\n    styleUrls: ['./ver-file-explorer.component.css'],\n})\nexport class VerFileExplorerComponent implements OnInit {\n\n    results: { [index: string]: VerResult } = {};\n    constructor(\n        private msgService: MessageService,\n        private http: HttpClient\n    ) { }\n\n    ngOnInit(): void {\n        // Send an event to master to acquire already generated\n        // files.\n        this.msgService.sendMsg(new QueryEvent([\"files\"]));\n        this.msgService.register(msg => msg.type == \"job.msg.file.exists\")\n            .subscribe(msg => {\n                let message: Object = msg.content.message;\n\n                for (let idx in message) {\n                    this.results[idx] = message[idx];\n                }\n\n                this.switchToGrowState();\n            });\n    }\n\n    switchToGrowState(): void {\n        this.msgService.register(msg => msg.type == \"job.msg.file.new\")\n            .subscribe(msg => {\n                let file: VerResult = msg.content.message;\n                let unique_id: string = file['unique_id'];\n\n                if (unique_id in this.results) {\n                    return;\n                } else {\n                    this.results[unique_id] = file;\n                }\n            });\n    }\n\n    files_dict(): { [index: string]: VerResult } {\n        return this.results;\n    }\n\n    files(): VerResult[] {\n        return Object.values(this.results);\n    }\n\n    retrieve_file(unique_id: string): void {\n        console.log(unique_id);\n        console.log(this.results[unique_id]);\n\n        if (unique_id in this.results) {\n            let result = this.results[unique_id];\n            window.open(result.url);\n        } else {\n            // Alert\n        }\n    }\n\n}\n","<div id=\"FileExplorer\">\n  <div class=\"ExplorePanel\">\n    <mat-form-field>\n      <mat-label>Files</mat-label>\n      <mat-select #SelectedVersion>\n        <mat-option *ngFor=\"let result of files()\" [value]=\"result\">\n          {{result.unique_id}}:{{result.ver_id}}\n        </mat-option>\n      </mat-select>\n    </mat-form-field>\n\n  </div>\n  <button mat-flat-button color=\"primary\"\n          (click)=\"retrieve_file(SelectedVersion.value.unique_id)\">\n    Retrieve\n  </button>\n</div>\n"],"sourceRoot":"webpack:///"}
>>>>>>> 8769eb4... Add Web page
